<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        es5数组新增的api 

        https://www.w3cschool.cn/kesyi/kesyi-nqej24rv.html

        1、严格模式
        2、json
        3、object
        4、array

        区别：
            forEach没有返回值，map有返回值
            forEach通常用来改变原数组，map通常用来在不改变原数组的情况下，生成新数组

        1、array.forEach(function(value,index,array){},_this)     从头到尾遍历数组，为每个元素调用指定的函数。

            ps:
                1.forEach(),当调用对象是空数组时，不会触发回调函数
                2.第二参数 _this ，用来传递给回调函数，作为回调函数的this指向，没有该参数，则forEach的this指向外层this
                3.再不定义return的情况下，return默认为undefined,
                  定义了return没用，同样返回undefined,只是会阻断本次回调，类似于for循环的continue,
                4.本身不支持continue和break，但是可以通过其他方式模拟出两种效果
                5.如果回调函数中没有进行改变原数组的操作，那么原数组不会被改变

        2、array.map(function(value,index,array){},_this)     
        
            返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值,按照原始数组元素顺序依次处理元素。

            ps:
                1.map,当调用对象是空数组时，不会触发回调函数
                2.第二参数 _this ，用来传递给回调函数，作为回调函数的this指向，没有该参数，或者传入 null、undefined，则指向外层this
                3.如果回调函数中没有进行改变原数组的操作，那么原数组不会被改变
                4.在不定义return的情况下，每次回调return默认为undefined,最终返回一个新的全是undefined的数组
                  在定义了return的情况下，最终返回一个新的数组

        3、array.find(function(value,index,array){},_this)

                返回通过测试（函数内判断）的数组的第一个元素的值。
                当数组中的元素在测试条件时返回 true 时, find() 返回符合条件的元素，之后的值不会再调用执行函数。
                如果没有符合条件的元素返回 undefined

            ps:
                1.find当调用对象是空数组时，不会触发回调函数
                2.第二参数 _this ，用来传递给回调函数，作为回调函数的this指向，没有该参数，或者传入 null、undefined，则指向外层this
                3.如果回调函数中没有进行改变原数组的操作，那么原数组不会被改变
                4.再不定义return的情况下，return默认为undefined,
                  定义了return的情况下，return的值之只能是true/false，
                    当转换为true时，返回当前循环的数组项，并中断循环
                    当转换为false时，继续循环，直到最终没有转换为true，则返回undefined
                    
        4、array.filter(function(value,index,array){},_this)

                filter() 方法创建一个新的数组，新数组中的元素是原数组中按照顺序，通过指定检查符合条件的所有元素。
                当数组中的元素在测试条件时返回 true 时, filter() 返回符合条件的元素，然后继续下一次循环
                如果没有符合条件的元素返回 []

            ps:
                1.filter当调用对象是空数组时，不会触发回调函数
                2.如果回调函数中没有进行改变原数组的操作，那么原数组不会被改变
                3.第二参数 _this ，用来传递给回调函数，作为回调函数的this指向，没有该参数，或者传入 null、undefined，则指向外层this
                4.在不定义return的情况下，return默认为[],
                  定义了return的情况下，return的值之只能是true/false，
                    当转换为true时，向返回的新数组中添加该数组项，并进行下一轮循环
                    当转换为false时，继续循环，直到最终没有转换为true，则返回[]
                


    -->

    <script>
        // let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9]
        // var str = arr.forEach(function (val, ind, arr) {
        //     console.log(this)
        //     console.log(val)
        //     console.log(ind)
        //     console.log(arr)
        //     arr[ind] = ++arr[ind]
        // }, arr)
        // console.log(str)
        // console.log(arr)
        // 模拟continue
        // var str = arr.forEach(function (val, ind, arr) {
        //     if (val == 8) {
        //         return {
        //             a: 1
        //         }
        //     }
        //     console.log(this)
        //     console.log(val)
        //     console.log(ind)
        //     console.log(arr)
        // }, arr)
        // console.log(str)
        // 模拟break
        // try {
        //     arr.forEach((val, ind, arr) => {
        //         if (val == 8) {
        //             throw (new Error("模拟break效果"))
        //         }
        //         console.log(this) //window
        //         console.log(val)
        //         console.log(ind)
        //         console.log(arr)
        //     })
        // } catch (err) {
        //     console.log(err)
        // }
    </script>
    <script>
        // let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9]
        // let variable = arr.map(function (value, index, array) {
        //     console.log(this)
        //     console.log(value)
        //     console.log(index)
        //     console.log(array)
        //     array[index] = ++array[index]
        //     // return 1
        //     return value % 2 == 1 ? "奇数" : "偶数"
        // }, null)
        // console.log(variable)
        // console.log(arr)
    </script>
    <script>
        // let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9]
        // let variable = arr.find(function (value, index, array) {
        //     console.log(this)
        //     console.log(value)
        //     console.log(index)
        //     console.log(array)
        //     return value > 7
        // })
        // console.log(variable)
        // console.log(arr)
    </script>
    <script>
        let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9]
        let variable = arr.filter(function (value, index, array) {
            console.log(this)
            console.log(value)
            console.log(index)
            console.log(array)
            return value > 7
        })
        console.log(variable)
        console.log(arr)
    </script>



</body>

</html>