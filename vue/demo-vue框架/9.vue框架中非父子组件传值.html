<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        单文件vue项目的组件传值

        父->子 

            props

        子->父

            子：this.$emit("事件名"，参数1，参数2...)
            父：在子组件的标签上绑定好自定义事件名，然后设置自定义事件的回调函数，
            回调函数的参数就是传递过来的数据，将传递过来的数据设置到父组件本身的数据中，这样就拿到了对应的数据
            
        非父子组件

            首先声明一个全局的vue实例对象，作为数据转折仓库。

                var bus = new Vue()

            在发起传递数据的组件中，调用

                bus.$emit("事件名"，参数1，参数2...)

            在接收数据的组件中，调用

                bus.$on("事件名"，function(参数1，参数2...){
                    参数就是传递过来的数据
                })
        
    -->

    <!-- 
        vue框架模式下，组件传值

        父->子

            props

        子->父

            子：this.$emit("事件名"，参数1，参数2...)
            父：在子组件的标签上绑定好自定义事件名，然后设置自定义事件的回调函数，
            回调函数的参数就是传递过来的数据，将传递过来的数据设置到父组件本身的数据中，这样就拿到了对应的数据
            
        非父子组件

            main.js  首先在该文件中声明一个新的vue实例，作为数据转折仓库。

                var bus= new Vue()

                new Vue({ //实例化vue对象
                    router,
                        data: {
                            bus //将声明的vue实例bus挂载为项目vue根组件的一个数据，便于项目中访问
                        },
                        render: h => h(App) //将导入的App文件作为vue实例的HTML 模板编译渲染函数。
                    }).$mount('#app')

            发起传递数据的组件

                this.$root.bus.$emit("自定义事件名"，参数1，参数2...)
            
            接收数据的组件

                this.$root.bus.$on("要接受数据的事件名"，(参数1，参数2...)=>{

                })

                ps：
                    使用箭头函数是为了固化函数内部的this指向，使得函数内部的this与外部的this指向相同
                    如果使用普通函数则函数内部的this指向，会指向bus
                    普通函数的this会随着函数调用方式的不同而改变

            在接收数据的组件销毁时

                this.$root.bus.$off("传递数据的事件名")


    
 -->

    <!-- 
        this.$root      当前组件树的根 Vue 实例。如果当前实例没有父实例，此实例将会是其自己。

        this.$emit("事件名",参数1,参数2...)      触发当前实例上的事件。附加参数都会传给监听器回调。

        this.$off([event, callback])        移除自定义事件监听器。

                如果没有提供参数，则移除所有的事件监听器；
                如果只提供了事件，则移除该事件所有的监听器；
                如果同时提供了事件与回调，则只移除这个回调的监听器。

        this.$on(event, callback)     
        
                监听当前实例上的自定义事件。事件可以由 vm.$emit 触发。
                回调函数会接收所有传入事件触发函数的额外参数。
   
    -->

</body>

</html>