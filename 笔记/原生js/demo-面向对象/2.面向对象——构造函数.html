<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        
        使用构造函数的方法我们解决了工厂模式没有new的问题，但是浪费内存的问题还是存在

     -->

    <!--    
        1. 构造函数就是普通函数
        2. 构造函数中声明变量不再用var，而是用this
        3. 为了区别普通函数和构造函数，构造函数的函数名首字母大写
        4. 构造函数在使用的时候需要使用 new 
        5. 构造函数中，this指向的是当前实例化对象 
    -->

    <!-- 
        
        构造函数的this 
            构造函数和普通函数的区别就是在调用时，是否使用new运算符调用

            当作为普通函数时，按照普通函数的this指向规则来，一般指向window
            当作为构造函数调用时，this指向实例化对象
    
    -->

    <!-- 
        构造函数的return

            1.没有return
                会默认return this

            2.return 原始数据类型
                不会有作用，继续默认return this

            3.return 引用数据类型
                发生覆盖，覆盖掉return this，返回值将会是return的值
    
    -->

    <!-- 
        
        构造函数和普通函数的区别就是在调用时，是否使用new运算符调用

            new的作用：
                1、创建了this
                2、给this赋值
                3、将this返回
    
    -->

    <script>
        function CreatePerson(name, age) {

            //系统帮我们创建了this
            // var this = new Object()

            console.log(this) //作为构造函数，this指向实例化对象

            this.name = name;
            this.age = age;
            this.play = function() {
                console.log(this) //指向实例化对象
                console.log(this.name + "喜欢网球")
            }

            // 系统帮我们把this返回
            // return this
        }

        //当做普通函数来用
        CreatePerson("普通函数", 180)
        play()
        var person = CreatePerson()
        console.log(person)
        console.log(this.name)
        console.log(this.age)
        this.play()

        // 作为构造函数来用
        var person1 = new CreatePerson("zhangsan", 15)
        person1.play()
        console.log(person1)

        var person2 = new CreatePerson("lisi", 18)
        person2.play()
        console.log(person2)

        console.log(person1.play)
        console.log(person2.play)
        console.log(person1.play === person2.play) //fasle

        //person1和person2叫做实例化对象
    </script>
</body>

</html>